<!DOCTYPE html>
<html>
<head>
  <title>Télécharger le contenu en PDF</title>
  <!-- <script src="jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script> -->

</head>
<body>
  <div id="div1">
    <div id="div2">
      <h1>Contenu de la première page</h1>
      <p>Ceci est le contenu de la première page.</p>
    </div>
    <div id="div3">
      <h1>Contenu de la deuxième page</h1>
      <p>Ceci est le contenu de la deuxième page.</p>
    </div>
  </div>
  <button onclick="generatePDF()">Téléchargerb</button>
  <script >
    function generatePDF() {
  const div1 = document.getElementById('div1');
  const div2 = document.getElementById('div2');
  const div3 = document.getElementById('div3');

  // Créer un document PDF
  const pdfDoc = new jsPDF();

  // Convertir div1 (avec div2 et div3) en image pour la première page
  htmlToImage.toPng(div1)
    .then((imgData) => {
      // Ajouter l'image de la première page au PDF
      pdfDoc.addImage(imgData, 'PNG', 10, 10, 190, 250);

      // Ajouter une nouvelle page pour la deuxième page
      pdfDoc.addPage();

      // Convertir div3 en image pour la deuxième page
      htmlToImage.toPng(div3)
        .then((imgData) => {
          // Ajouter l'image de la deuxième page au PDF
          pdfDoc.addImage(imgData, 'PNG', 10, 10, 190, 250);

          // Télécharger le PDF
          pdfDoc.save('contenu.pdf');
        })
        .catch((error) => {
          console.error('Erreur lors de la conversion de div3 en image :', error);
        });
    })
    .catch((error) => {
      console.error('Erreur lors de la conversion de div1 en image :', error);
    });
}

  </script>
</body>
</html>
